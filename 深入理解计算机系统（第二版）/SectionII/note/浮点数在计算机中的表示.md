### 浮点数在计算机中的表示

#### 二进制小数

在“数电”这门课之中，我们学过一种将浮点数转为二进制的方法，也就是类似整型数十进制转二进制的方法，将小数部分以2的负幂次来进行表示，同时也提出了十进制转二进制的方法——**乘2取整**。

例如：$(124.75)_{10}$ 转化为二进制之后就是 $(0111\ 1100.11)_{2}$

但是此种表示方法用于计算机中的时候是有欠缺的，其在较小的字节中无法表示出非常大的数字，因此，IEEE[^1] 制定了一套自己的标准。

#### IEEE 标准

IEEE 的浮点数标准用 $V = (-1)^s \times M \times 2^E$ 的形式来表示一个数

- **符号（sign）：** S决定浮点数的正负（即与补码类似，1为负 0为正）
- **尾数（significand）：** M是一个二进制小数，范围为 1~$2-\xi$ 或者 0~$1-\xi$ 
- **阶码（exponent）：** E的作用是对浮点数加权，权值为 $2^E$ 

则显然，我们需要将用于储存浮点数的字节分为三个部分：

- **符号位：**简写为s， 将最高位直接用作符号位
- **阶码段：** 简写为exp，用于储存阶码 E
- **尾码段：** 简写为frac，用于储存小数部分

一般来说，单精度浮点数（C语言 float， 4个字节），s = 1， exp = 8， frac = 23，而双精度浮点数（C语言double，8字节），s = 1，exp = 11， frac = 52【单位为bit】

接着，我们就需要具体了解此种表示的规格了。

其根据 exp 值的不同，被编码的值可以分为三种不同的情况（可能是翻译问题，名字有点怪）：

- **规格化的：** 最为一般的情况，此时 exp 段不全部为0
- **非规格化的：** 此时 exp 段全部为0
- **无穷大：** exp 段全部为1，尾码段全部为0（特别的，尾码段不全部为0的时候，结果值被称之为NaN（即：Not a Number，不是一个数））

我们来详细了解一下具体的表示：

**规格化的：** 此种情况之时，相关值如下所示 

- s直接看最高位 bit 即可
- $E = e-Bias$ （其中，e为阶码段所表示的值；$Bias$ 等于 $2^{k-1} - 1$ [^2]）
- 小数部分 $M = 1+f$ （其中 $f$ 为尾码段所表示的值，作为小数解析）

**非规格化的：** 此种情况下，相关值如下所示

- s同上
- $E = 1 - Bias$ （$Bias$ 定义同上）
- $M = f$ （$f$ 定义同上）

#### 数字示例

了解具体规则之后，我们可以看看具体的例子，如下图所示，以8位来表示一个浮点数，阶码位为4，尾数位为3 ：

![图一](C:\Users\xdwen\Documents\小作品\博客\浮点数在计算机中的表示1.png)

此处结合公式和示例数字，可以很快理解此种表示规则。



































































[^1]:引用自我的博客

